@use '../settings/spacing';
@use '../tools/responsive';
@use '../mixins';

@mixin orange-underline-hover {
	width: 100%;
	left: 0;
	background: rgb(255, 122, 0);
	background: linear-gradient(
		90deg,
		rgba(255, 122, 0, 1) 0%,
		rgba(255, 15, 0, 1) 100%
	);
}

@mixin block-card-flex {
	@include responsive.mq($from: tablet) {
		display: flex;
		flex-wrap: wrap;
		justify-content: space-between;
	}
}

@mixin reversed-block-cards {
	.block-cards__inner {
		display: block;
	}

	.block-cards__heading,
	.block-cards__list {
		width: 100%;
	}
}

.block-cards-container {
	padding-right: 0;
}

.block-cards {
	padding-top: 78px;
	padding-bottom: 78px;

	&--with-bg {
		@include mixins.bg-card-gradient();
	}

	.image-box {
		display: inline-flex;
	}

	.card-body {
		margin-top: 18px;
	}

	.block-cards__list {
		display: flex;
		flex-flow: row wrap;
		row-gap: 20px;
		margin-top: 44px;

		@include responsive.mq($from: large_tablet) {
			row-gap: 136px;
			margin-top: 89px;
		}
	}

	.card-content {
		display: flex;
		flex-flow: column;
		gap: 18px;
		min-height: auto;
		align-items: flex-start;
	}

	.card__heading {
		background-color: #D3F4FF;
		text-transform: uppercase;
		padding: 12px;
		display: inline-flex;
		flex-flow: column;
		gap: 18px;
		margin-bottom: 0;
		
		p {
			font-size: 17px;
			letter-spacing: 0.858px;
			line-height: 100%;
		}
	}

	&--two-cards {
		&.block-cards--reversed {
			@include reversed-block-cards();
		}

		.block-cards__inner {
			@include block-card-flex();
		}

		.block-cards__heading {
			@include responsive.mq($from: large_tablet) {
				width: 33.33%;
				padding-right: spacing.$l;
			}
		}

		.block-cards__list {
			@include responsive.mq($from: large_tablet) {
				width: calc(100% - 33.33%);
			}
		}

		.block-cards__list-item {
			@include responsive.mq($from: large_tablet) {
				width: 50%;
			}
		}

		.card__image {
			padding-top: 55%;
			.image-box {
				transition: all 0.3s ease-in-out;
			}
			&:hover {
				.image-box {
					transition: all 0.3s ease-in-out;
					transform: scale(1.1);
				}
			}
		}
	}

	&--three-cards {
		position: relative;
		background: var(--softgrad);

		.link {
			margin-top: auto;
		}
		&.block-cards--reversed {
			@include reversed-block-cards();
		}

		.block-cards__inner {
			@include block-card-flex();
		}

		.block-cards__heading {
			@include responsive.mq($from: large_tablet) {
				width: 22%;
				padding-right: spacing.$l;
			}
		}

		.block-cards__list {
			margin-top: 20px;
			@include responsive.mq($from: large_tablet) {
				width: 76%;
				margin: 0;
			}
		}

		.block-cards__list-item {
			@include responsive.mq($from: mobile_md) {
				width: 50%;
			}

			@include responsive.mq($from: tablet) {
				width: 33.33%;
			}
		}

		.card {
			display: flex;
			flex-grow: 1;
			flex-direction: column;
		}
		.card__image {
			//padding-top: 58%;
			min-height: 200px;
			margin: 0;
			padding: 0;
			.image-box {
				transition: all 0.3s ease-in-out;
			}
			.image-box img {
				height: auto;
			}

			&:hover {
				.image-box {
					transition: all 0.3s ease-in-out;
					transform: scale(1.1);
				}
			}
		}

		.card-content {
			min-height: 210px;
			padding-bottom: 1rem;		
		}
		.card-body-alt {
			padding: 0.5rem 1rem 1.7rem 1rem;
			display: flex;
			flex-grow: 1;
			flex-direction: column;
		}
	}

	&--four-cards {
		position: relative;
		padding-bottom: 0;
		.block-cards__heading {
			width: 100%;
			padding: 0;
		}

		.link {
			margin-top: auto;
		}

		.block-cards__list {
		
			.block-cards__list-item {
				.card {
					width: 100%;
					display: flex;
					flex-grow: 1;
					flex-direction: column;
				}
				.card__image {
					min-height: 180px;
					margin: 0;
					padding: 0;
					.image-box {
						height: unset;
						transition: all 0.3s ease-in-out;
					}

					&:hover {
						.image-box {
							transition: all 0.3s ease-in-out;
							transform: scale(1.1);
						}
					}
				}
			}
		}
		.card-content {
			min-height: 120px;
			.card__heading {
				font-size: 22px;
			}
		}

		.card-body {
			display: flex;
			flex-grow: 1;
			flex-direction: column;
		}

		.block-cards__inner {
			.intro-text {
				width: 100%;
				@include responsive.mq($from: tablet) {
					width: 50%;
				}
			}
		}
	}

	&--three-wide-cards {
		position: relative;
		padding-top: 0;
		padding-bottom: 0;
		.link {
			margin-top: auto;
		}
	
		.block-cards__list-item {
			width: 100%;
			@include responsive.mq($from: mobile_md) {
				width: 50%;
			}

			@include responsive.mq($from: tablet) {
				width: 33.33%;
			}
			.card {
				width: calc(100% - 60px);

				@include responsive.mq($from: mobile_md) {
					width: 100%;
				}

				.card__image {
					min-height: 250px;
					margin: 0;
					padding: 0;
					.image-box {
						transition: all 0.3s ease-in-out;
					}
					&:hover {
						.image-box {
							transition: all 0.3s ease-in-out;
							transform: scale(1.1);
						}
					}
				}
			}
			.card-body {
				flex-direction: column;
				flex-grow: 1;
				display: flex;
				text-align: left;
				.card__data-item {
					margin: 0;
					font-weight: 600;
				}
				.bare-list {
					//padding-top: 1.5rem;
				}
			}
		}
	}

	&__inner {
		margin-bottom: spacing.$xxxl;
	}

	&.bg-themed::before {
		content: '';
		position: absolute;
		z-index: 0;
		top: 0rem;
		width: 100vw;
		height: 100%;
		left: 50%;
		right: 50%;
		margin-left: -50vw;
		margin-right: -50vw;
		background: var(--softgrad);
		z-index: -1;
		@include responsive.mq($from: tablet) {
			height: 38.8rem;
		}
	}

	h2 {
		&.block-cards__heading {
			margin-bottom: spacing.$m;

			@include responsive.mq($from: wide) {
				margin-bottom: calc(spacing.$xl + spacing.$xxl);
			}
		}
	}

	h3 {
		&.block-cards__heading {
			margin-bottom: spacing.$m;

			@include responsive.mq($from: wide) {
				margin-bottom: spacing.$xxxl;
			}
		}
	}

	&__list {
		@include responsive.mq($from: mobile_md) {
			display: flex;
			flex-wrap: wrap;
			margin: 0 - (spacing.$xxs);
		}
	}

	&__list-item {
		padding: spacing.$xxs;
		display: flex;

		@include responsive.mq($from: mobile_md) {
			width: 50%;
		}

		@include responsive.mq($from: large_tablet) {
			width: 25%;
		}
	}
}

.download-link {
	position: relative;
	text-decoration: none;
	.icon {
		transition: all 0.2s ease-in-out;
	}
	cursor: pointer;

	.link__text {
		&:after {
			transition: all 0.2s ease-in-out;
		}
	}

	&:hover {
		.link__text {
			&:after {
				display: none;
			}

			&::before {
				transform: scaleX(1);
			}
		}

		.icon,
		.link__icon {
			transition: all 0.2s ease-in-out;
		}
	}
}
